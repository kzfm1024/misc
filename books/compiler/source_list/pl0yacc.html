<html><head><meta http-equiv="content-type" content="text/html; charset=Shift_JIS"><title>PL/0'コンパイラのyacc版</title></head><body><h1>PL/0'コンパイラのyacc版</h1><hr>PL/0'コンパイラはCで書かれていましたが，それをyaccで書き直したものを作りました．<br>C版のファイルのうち、table.h、codegen.hはそのまま使い、table.cとcodegen.cはほとんどそのまま使い、それ以外をlex（またはflex）とyacc（またはbison）で書きました。<br>以下のファイルからlex（またはflex）とyacc（またはbison）を使ってPL/0'コンパイラを構成することができます。<br><hr><h2>ソースリスト</h2><ul><li><a href="http://www.k.hosei.ac.jp/~nakata/oCompiler/PL0yacc/pl0.l.txt">pl0.l</a>（ファイル名をpl0.l.txtに変更してあります）</li><li><a href="http://www.k.hosei.ac.jp/~nakata/oCompiler/PL0yacc/pl0.y.txt">pl0.y</a>（ファイル名をpl0.y.txtに変更してあります）</li><li><a href="http://www.k.hosei.ac.jp/~nakata/oCompiler/PL0yacc/table.h">table.h</a></li><li><a href="http://www.k.hosei.ac.jp/~nakata/oCompiler/PL0yacc/table.c">table.c</a> </li><li><a href="http://www.k.hosei.ac.jp/~nakata/oCompiler/PL0yacc/codegen.h">codegen.h</a></li><li><a href="http://www.k.hosei.ac.jp/~nakata/oCompiler/PL0yacc/codegen.c">codegen.c</a></li></ul><hr><p>たとえば、bisonとflexを使う場合は、<br><br>　　$　bison -d -y pl0.y<br><br>によって、y.tab.hとy.tab.cを生成し、<br><br>　　$　flex -l pl0.l<br><br>によって、lex.yy.cを生成し、y.tab.c, lex.yy.c, table.c, codegen.c から実行ファイルを作ります。mainはy.tab.cにあります。</p><p>yaccを使うことによって、コンパイラの動作を構文規則に則して書くことができるので、C版やJava版に比べると大変簡潔でわかりやすいものになっています。ただし、このコンパイラはソースプログラムのエラーに対しては大変弱いです。<br>エラーがあれば、コンパイラは"parse error"、または"syntax error"とプリントして直ちに構文解析を終了するだけです。<br>わずかに、変数名のリストの中の","について、それを書き忘れたときにも通るように処置してあるだけです。<br></p><hr><p>pl0.lとpl0.yは図書館情報大学の大学院生 宍戸浩子さんのレポートを筆者が少し書き直したものです。（2002.2.20）</p><p><a href="../main.html">戻る</a><br></p></body></html>